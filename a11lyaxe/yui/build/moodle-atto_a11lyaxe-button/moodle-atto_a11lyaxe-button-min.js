YUI.add("moodle-atto_a11lyaxe-button",function(t,e){var n,a,l=0;t.namespace("M.atto_a11lyaxe").Button=t.Base.create("button",t.M.editor_atto.EditorPlugin,[],{initializer:function(){this.addButton({icon:"e/a1llyaxe",callback:this._displayDialogue}),t.Get.js(M.cfg.wwwroot+"/lib/editor/atto/plugins/a11lyaxe/amd/src/axe.js",function(t){})},_displayDialogue:function(){require(["jquery","jqueryui"],function(i){axe.run(document.querySelector('[role="textbox"]'),{runOnly:{type:"tag",values:["wcag2a","wcag2aa"]}},function(t,e){if(t)throw t;var o=e.violations;e.violations.forEach(function(t){}),n===undefined&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("href",M.cfg.wwwroot+"/lib/editor/atto/plugins/a11lyaxe/jquery-ui.css"),document.querySelector("head").appendChild(n)),l||((a=document.createElement("div")).setAttribute("id","result"),document.body.appendChild(a),a.title="There are "+e.violations.length+" problems"),i(function(){var t,e=0;l||i("#result").dialog({open:function(){i(".ui-dialog-titlebar-close").hide(),l=1,o[0]?i(this).text(e+1+") "+o[e].description):i(this).text("Nothing wrong, You good to go")},width:400,height:400,buttons:{Close:function(){l=0,i(this).closest(".ui-dialog-content").dialog("close"),i(this).remove(),i.ajax({method:"POST",dataType:"text",url:M.cfg.wwwroot+"/lib/editor/atto/plugins/a11lyaxe/ajax_update_stats.php",data:{stats_count:o.length}}).fail(function(){}).done(function(){})},Prev:function(){0<e&&(e--,i(this).text(e+1+") "+o[e].description))},Next:function(){e<o.length-1&&(e++,i(this).text(e+1+") "+o[e].description))},Focus:function(){0<o.length&&(i(this).closest(".ui-dialog-content").dialog("close"),i(this).remove(),l=0,t=o[e].nodes[0].target.toString(),document.querySelector(t).classList.add("toShow"),i(t).hover(function(){i(this).removeClass("toShow")}))}}})})})})}})},"@VERSION@",{requires:["color-base","moodle-editor_atto-plugin"]});